<div class="container-fluid mb-5">
    <div class="row d-print-none bg-light shadow-sm">
        <div class="col-auto">
            <div class="form-group">
                <label for="fiscalYear">‡¶Ö‡¶∞‡ßç‡¶•‡¶¨‡¶õ‡¶∞</label>
                <select class="form-control" id="fiscalYear" (change)="onSelectFiscalYear($event.target.value)">
                    <option value=""> ‡¶Ö‡¶∞‡ßç‡¶•‡¶¨‡¶õ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® </option>
                    <option value="all"> ‡¶∏‡¶ï‡¶≤ </option>
                    <option *ngFor="let fy of fiscalYearList" [value]="fy.id" [selected]="fy.active">
                        {{ fy.name }}
                    </option>
                </select>
            </div>
        </div>
        <div class="col-md-4">
            <label for="typeahead-prevent-manual-entry">‡¶ï‡¶∞‡ßç‡¶Æ‡¶ï‡¶∞‡ßç‡¶§‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®</label>
            <input id="typeahead-prevent-manual-entry" type="text" class="form-control" (selectItem)="searchEmployee($event)" [(ngModel)]="employee"
                [ngbTypeahead]="search" [inputFormatter]="formatter" [resultFormatter]="formatter" [editable]='false' />
        </div>
    </div>

    <div class="row" id="print-section">
        <div class="col-md-12" *ngIf="employee && fiscalYear">
            <h5 class="h3 text-center py-2">
                <strong>‡¶¨‡¶ø‡¶∑‡ßü‡¶É ‡¶°‡¶ø‡¶è‡¶®‡¶∏‡¶ø‡¶∏‡¶ø ‡¶ï‡¶∞‡ßç‡¶Æ‡¶ï‡¶∞‡ßç‡¶§‡¶æ/‡¶ï‡¶∞‡ßç‡¶Æ‡¶ö‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø ‡¶§‡¶π‡¶¨‡¶ø‡¶≤ ‡¶∏‡ßç‡¶¨ ‡¶∏‡ßç‡¶¨ ‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ </strong>
                <!-- <strong>{{employee.empId}}‡¶É {{employee.name}} ‡¶è‡¶∞ {{fiscalYear.name}} ‡¶Ö‡¶∞‡ßç‡¶• ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü </strong> -->
            </h5>
            <!-- <div class="form-group row">
                <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶Ö‡¶∞‡ßç‡¶• ‡¶¨‡¶õ‡¶∞</label>
                <div class="col-sm-2">
                    <label id="fiscalYear" class="form-control">{{fiscalYear.name}}</label>
                </div>
                <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶Ö‡¶û‡ßç‡¶ö‡¶≤/‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</label>
                <div class="col-sm-2">
                    <label id="fiscalYear" class="form-control">{{employee.zone}}</label>
                </div>
                <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶∏‡¶Æ‡¶æ‡¶™‡¶®‡ßÄ ‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø </label>
                <div class="col-sm-2">
                    <label id="fiscalYear" class="form-control">0</label>
                </div>
            </div> -->
            <div class="form-group row">
                <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶®‡¶Ç / ‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡¶Ç </label>
                <div class="col-sm-2">
                    <label id="fiscalYear" class="form-control">{{employee.empId}}</label>
                </div>
                <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</label>
                <div class="col-sm-3">
                    <label id="fiscalYear" class="form-control">{{employee?.dateOfBirth.day}}/{{employee?.dateOfBirth.month}}/{{employee?.dateOfBirth.year}}</label>
                </div>
                <label for="fiscalYear" class="col-sm-1 col-form-label text-right">‡¶™‡¶¶‡¶¨‡ßÄ</label>
                <div class="col-sm-2">
                    <label id="fiscalYear" class="form-control">{{employee.designation}}</label>
                </div>
            </div>
            <div class="form-group row">
                <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶®‡¶æ‡¶Æ</label>
                <div class="col-sm-4">
                    <label id="fiscalYear" class="form-control">{{employee.name}}</label>
                </div>
                <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
                <div class="col-sm-4">
                    <label id="fiscalYear" class="form-control">{{employee.fatehrName}}</label>
                </div>
            </div>
            <div *ngFor="let account of accountList">
                <hr>
                <div class="form-group row mb-1">
                    <div class="col-md-8">
                        <div class="row">
                            <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶Ö‡¶∞‡ßç‡¶• ‡¶¨‡¶õ‡¶∞</label>
                            <div class="col-sm-4">
                                <label id="fiscalYear" class="form-control">{{getFiscalyearName(account.fiscalYearId)}}</label>
                            </div>
                            <label for="fiscalYear" class="col-sm-2 col-form-label text-right">‡¶Ö‡¶û‡ßç‡¶ö‡¶≤/‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</label>
                            <div class="col-sm-4">
                                <label id="fiscalYear" class="form-control">{{employee.zone}}</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="row">
                            <label for="fiscalYear" class="col-sm-3 col-form-label text-right">‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶≤‡ßã‡¶®</label>
                            <div class="col-sm-3">
                                <span class="form-control">{{account?.previousYearLoan}}</span>
                            </div>
                            <label for="fiscalYear" class="col-sm-3 col-form-label text-right">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶≤‡ßã‡¶®</label>
                            <div class="col-sm-3">
                                <label class="form-control">{{account?.currentLoanStatus}}</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <td *ngFor="let n of serialNumber">{{n}}</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</td>
                                <td *ngFor="let m of monthName">{{m}}</td>
                                <td>‡¶â‡¶™‡¶Æ‡ßã‡¶ü</td>
                                <td>‡¶Æ‡ßã‡¶ü</td>
                                <td>‡¶ö‡¶≤‡¶§‡¶ø ‡¶∏‡¶æ‡¶≤‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶¶</td>
                                <td>‡¶ó‡¶§ ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø</td>
                                <td>‡¶è‡¶á ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶∞‡¶Æ‡ßç‡¶≠‡¶ø‡¶ï ‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø</td>
                                <td>‡¶è‡¶á ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶¶</td>
                                <td>‡¶∏‡¶Æ‡¶æ‡¶™‡¶®‡ßÄ</td>
                            </tr>
                            <tr>
                                <td>‡¶®‡¶ø‡¶ú ‡¶ï‡¶∞‡ßç‡¶§‡¶®</td>
                                <td *ngFor="let sbl of account?.subAccountList; let i = index">
                                    <span>{{sbl.selfDeduction}}</span>
                                </td>
                                <td>{{account?.subTotal[0]}}</td>
                                <td>{{account?.total}}</td>
                                <td>{{account?.currentYearInterest}}</td>
                                <td>{{account?.lastYearBalance}}</td>
                                <td>{{account?.currentYearBalance}}</td>
                                <td>{{account?.lastYearInterest}}</td>
                                <td>{{account?.grandTotal}}</td>
                            </tr>
                            <tr>
                                <td>‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶¨‡¶ø‡¶â‡¶∂‡¶®</td>
                                <td *ngFor="let sbl of account?.subAccountList; let i = index">
                                    <span>{{sbl.organizationalContribution}}</span>
                                </td>
                                <td>{{account?.subTotal[1]}}</td>
                                <td rowspan="4" colspan="6" *ngIf="account?.advances?.length" class="p-2">
                                    <h5 class="text-center">‡¶Ö‡¶ó‡ßç‡¶∞‡¶ø‡¶Æ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£</h5>
                                    <table class="table table-bordered ">
                                        <thead>
                                            <tr>
                                                <th>‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th>
                                                <th>‡¶ö‡ßá‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</th>
                                                <th>‡¶Ö‡¶∞‡ßç‡¶•‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let adv of account.advances">
                                                <td>{{adv.issueDate.day}}/{{adv.issueDate.month}}/{{adv.issueDate.year}}/</td>
                                                <td>{{adv.checkNumber}}</td>
                                                <td>{{adv.amount}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td>‡¶Ö‡¶ó‡ßç‡¶∞‡¶ø‡¶Æ ‡¶ï‡¶∞‡ßç‡¶§‡¶®</td>
                                <td *ngFor="let sbl of account?.subAccountList; let i = index">
                                    <span>{{sbl.advanceDeduction}}</span>
                                </td>
                                <td>{{account?.subTotal[2]}}</td>
                            </tr>
                            <tr>
                                <td>‡¶Ö‡¶ó‡ßç‡¶∞‡¶ø‡¶Æ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®</td>
                                <td *ngFor="let sbl of account?.subAccountList; let i = index">
                                    <span>{{sbl.advanceReturn}}</span>
                                </td>
                                <td>{{account?.subTotal[3]}}</td>
                            </tr>
                            <tr>
                                <td>‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßç‡¶§‡¶®</td>
                                <td *ngFor="let sbl of account?.subAccountList; let i = index">
                                    <span>{{sbl.extraDeduction}}</span>
                                </td>
                                <td>{{account?.subTotal[4]}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="col-md-12" *ngIf="account?.closingAccount">
                    <div class="container border">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group mb-0">
                                    <label>‡¶®‡¶•‡¶ø ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶É {{account?.closingAccount?.accountNo}}</label>
                                </div>

                                <div class="form-group mb-0">
                                    <label>‡¶Ø‡ßã‡¶ó‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶É {{account?.closingAccount?.joiningDate?.day}}/{{account?.closingAccount?.joiningDate?.month}}/{{account?.closingAccount?.joiningDate?.year}}</label>
                                </div>

                                <div class="form-group mb-0">
                                    <label>‡¶Ö‡¶¨‡¶∏‡¶∞ ‡¶ó‡ßç‡¶∞‡¶π‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶É {{account?.closingAccount?.retirementDate?.day}}/{{account?.closingAccount?.retirementDate?.month}}/{{account?.closingAccount?.retirementDate?.year}}</label>
                                </div>

                                <div class="form-group mb-0">
                                    <label>‡¶®‡¶Æ‡¶ø‡¶®‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ‡¶É {{account?.closingAccount?.nomineeName}}</label>
                                </div>

                                <div class="form-group mb-0">
                                    <label>‡¶Æ‡ßÇ‡¶≤ ‡¶¨‡ßá‡¶§‡¶®‡¶É {{account?.closingAccount?.basicSalary}}</label>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="row border">
                                    <label class="col-12 m-0">
                                        <h5 class="mb-0">‡¶™‡ßç‡¶∞‡¶≠‡¶ø‡¶°‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶æ‡¶®‡ßç‡¶° ‡¶ü‡¶æ‡¶ï‡¶æ</h5>
                                    </label>
                                    <div class="col-12 mb-1">
                                        <div class="form-row">
                                            <div class="col">
                                                <label class="mb-0">‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶É {{account?.closingAccount?.providentFundInfo?.issueDate?.day}}/{{account?.closingAccount?.providentFundInfo?.issueDate?.month}}/{{account?.closingAccount?.providentFundInfo?.issueDate?.year}}</label>
                                            </div>
                                            <div class="col">
                                                <label class="mb-0">‡¶ö‡ßá‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶É {{account?.closingAccount?.providentFundInfo?.checkNumber}}</label>
                                            </div>
                                            <div class="col">
                                                <label class="mb-0">‡¶Ö‡¶∞‡ßç‡¶•‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£‡¶É {{account?.closingAccount?.providentFundInfo?.amount}}</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row border">
                                    <label class="col-12 m-0">
                                        <h5 class="mb-0">‡¶ó‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ö‡ßÅ‡ßü‡¶ø‡¶ü‡¶ø ‡¶ü‡¶æ‡¶ï‡¶æ</h5>
                                    </label>
                                    <div class="col-12 mb-1">
                                        <div class="form-row">
                                            <div class="col">
                                                <label class="mb-0">‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶É {{account?.closingAccount?.gratuityInfo?.issueDate?.day}}/{{account?.closingAccount?.gratuityInfo?.issueDate?.month}}/{{account?.closingAccount?.gratuityInfo?.issueDate?.year}}</label>
                                            </div>
                                            <div class="col">
                                                <label class="mb-0">‡¶ö‡ßá‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶É {{account?.closingAccount?.gratuityInfo?.checkNumber}}</label>
                                            </div>
                                            <div class="col">
                                                <label class="mb-0">‡¶Ö‡¶∞‡ßç‡¶•‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£‡¶É {{account?.closingAccount?.gratuityInfo?.amount}}</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row border">
                                    <label class="col-12 m-0">
                                        <h5 class="mb-0">‡ßß‡ßÆ ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶è‡¶ï‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶ü‡¶æ‡¶ï‡¶æ</h5>
                                    </label>
                                    <div class="col-12 mb-1">
                                        <div class="form-row">
                                            <div class="col">
                                                <label class="mb-0">‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶É {{account?.closingAccount?.oneTimePaymenInfo?.issueDate?.day}}/{{account?.closingAccount?.oneTimePaymenInfo?.issueDate?.month}}/{{account?.closingAccount?.oneTimePaymenInfo?.issueDate?.year}}</label>
                                            </div>
                                            <div class="col">
                                                <label class="mb-0">‡¶ö‡ßá‡¶ï ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶É {{account?.closingAccount?.oneTimePaymenInfo?.checkNumber}}</label>
                                            </div>
                                            <div class="col">
                                                <label class="mb-0">‡¶Ö‡¶∞‡ßç‡¶•‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£‡¶É {{account?.closingAccount?.oneTimePaymenInfo?.amount}}</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div *ngIf="accountList.length">
        <div class="d-flex flex-row-reverse bd-highlight d-print-none">
            <button class="btn btn-sm btn-primary mx-1" (click)="onPrint()">Print</button>
        </div>
    </div>
</div>